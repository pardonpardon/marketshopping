# AXF

## User
+ 用户表设计
    + username
    + password
    + email
    + phone
    + icon
    + is_active
    + is_delete

## 高级密码安全工具
+ 不在使用单一的算法实现
    + 至少使用两种以上的算法
    + 算法中融入时间散列
+ 将输入数据进行哈希处理
+ 哈希处理之后拼接时间戳
    + 中间使用特定的拼接符号
+ 将拼接好的数据进行编码
+ 验证策略
    + 将输入进行相同的哈希策略
    + 将数据库中的密码进行解码处理
    + 去除时间散列的混淆
    + 比较哈希码

## 版本升级之后,策略不兼容
+ 第一版本,注册之后,密码是明文
+ 第二版本,注册之后.密码是hash
+ 第三版本,注册时候,密码是hash+时间散列
+ 假定目前处于第三版本
    + 对于请求的参数添加版本号,没添加的是旧版本
    + 对于低版本使用特定认证,认证完,在会话中将低版本的版本号存储下来
        + 小米低版本兼容
        + 除了密码外,加短信验证

### homework
+ 邮箱校验
+ 密码一致性校验

## 用户激活,认证
    
+ 途径
    + 邮件
    + 短信
    + 人工审核
    
+ 邮件
    + 发送邮件
        + 收件人地址
        + 发件人信息
            + 用户名
            + 密码
            + 服务器
                + 邮件服务器
                + 端口
            + 内容

    + 点击邮件中的链接激活
        + 链接中存在用户的唯一标识  
            + http://xxxx/activate/?u token=yyyy
            + u_token缓存中作为key , value->user_id
            + u_token uuid
        + 标识存在时效性
        + 标识存在使用次数限制               

## 错误信息

+ 先将错误信息存储下来
+ 在错误显示页面获取错误信息
    + 保证错误信息只能出现一次
    + 获取到信息之后,直接将自己删除
        
        
# 购物车
+ 购物车多对多的关系
    + 用户
    + 商品
+ 订单
    + 订单和已购买商品是一对多的关系
    + 表关系
        + 订单表
            + 属于哪个用户
        + 订单商品表
            + 购物车
        + 地址
            + 每个订单对应一个地址
            + 一个地址可以对应多个订单
            + 订单会级联收货地址
        + 优惠券   
        
+ 添加购物车
    + 需要用户
        + 如果用户未登录,跳转登陆
    + 需要商品
        + 传递商品唯一标识
        
    + 添加的合法性
        + 数据不存在,创建购物车数据
        + 数据存在,数量+
    + 购物车全选
        + 默认状态
            + 全选按钮选中
                + 内部所有商品都是选中的
            + 全选按钮未选中
                + 所有商品编程选中
        + 点击全选
            + 原状态是选中的
                + 全选和所有商品变为未选中
            + 原状态未选中
                + 全选和所有商品变为选中
        + 点击单个商品
            + 商品由选中变为未选中
                + 全选一定变成未选中
            + 商品由未选中变为选中
                + 全选默认状态是未选中
                +     
# 小技能
+ js获取jQuery对象属性
    + attr
        + 可以获取任意属性
    + prop
        + 只能获取内置属性

# 浏览器行为
+ 重定向
+ 跨域

# 项目中多块逻辑拥有相同操作
+ 封装一个函数
+ 装饰器
+ 中间件

### 支付
+ 官方文档
+ 常见的支付
    + 支付宝
        + 企业资质
        + 营业执照
    + 微信
        + 要求同支付宝
        + 认证 ,一次200一年一次
    + 银联
    + 百度钱包
    + 京东钱包
+ 支付宝支付
    + 支付宝开放平台
    + 蚂蚁金服开放平台
    
# 部署

+ Django自带服务器   
    + runserver
        + 路由处理功能,动态资源处理
        + 如果是debug的话,静态资源处理
    + 功能健壮,性能较低,仅适用于开发
    
+ 部署不会使用单一服务器
    + Apache
    + Nginx
        + http服务器
            + 处理静态资源
        + 反向代理
            + uWSGI HTTP服务器
            + gunicorn HTTP服务器
            
        + 邮件服务器
        + 流媒体服务器
        